<!DOCTYPE html>
<html>
    <head>
        <title>PSI Bouldering Routes</title>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
        <script src="route_data.js"></script>
        <script src="routes.js"></script>
        <link href="routes.css"  rel="stylesheet" type="text/css" media="all"/>
    </head>

    <body>
        <div id="content">

            <div class="routeMap">
                <a class="target" data-key="wall_01-06_00.jpg" src="images/wall_01-06_00.jpg">
                    <img src="images/wall_01-06_00.jpg">
                </a>
            </div>

            <div class="routeMap">
                <a class="target" data-key="pano_05-07_07.jpg" src="images/pano_05-07_07.jpg">
                    <img src="images/pano_05-07_07.jpg">
                </a>
            </div>

            <div class="routeMap">
                <a class="target" data-key="ceiling_01_00.jpg" src="images/ceiling_01_00.jpg">
                    <img src="images/ceiling_01_00.jpg">
                </a>
            </div>

            <div class="routeMap">
                <a class="target" data-key="ceiling_03_02.jpg" src="images/ceiling_03_02.jpg">
                    <img src="images/ceiling_03_02.jpg">
                </a>
            </div>

        </div>

        <script>
//document.addEventListener("DOMContentLoaded", () => {
window.addEventListener("load", () => {
    // Load pre-defined routes
    document.querySelectorAll(".routeMap").forEach( (map) => {
        target = map.querySelector(".target");
        key = target.getAttribute("data-key");
        loadRoutes(target, key, routes[key]);
        addLegend(map, routes[key]);
    });
});
        </script>
    </body>
</html>